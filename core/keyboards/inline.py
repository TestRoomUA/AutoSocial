import random

from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.utils.keyboard import InlineKeyboardBuilder
from core.utils.callbackdata import ProductInfo, ProductID


select_car = InlineKeyboardMarkup(inline_keyboard=[
    [
        InlineKeyboardButton(
            text='Toyota Camry Red 2021',
            callback_data='toyota_camry_red_2021'
        )
    ],
    [
        InlineKeyboardButton(
            text='Toyota Corolla Gray 2017',
            callback_data='toyota_corolla_gray_2017'
        )
    ],
    [
        InlineKeyboardButton(
            text='Nissan GTR White 2019',
            callback_data='nissan_gtr_white_2019'
        )
    ],
    [
        InlineKeyboardButton(
            text='Youtube',
            url='https://www.youtube.com/watch?v=XJCYxIbsXmk&list=PLRU2Gs7fnCuiwcEDU0AWGkSTawEQpLFPb&index=6&ab_channel=NZTCODER'
        )
    ],
    [
        InlineKeyboardButton(
            text='telegram',
            url='tg://user?id=1461211665'
        )
    ]
])


# def get_inline_keyboard():
#     keyboard_builder = InlineKeyboardBuilder()
#     keyboard_builder.button(text='Toyota Camry Red 2021', callback_data=CarInfo(
#         brand='Toyota', model='Camry', color='red', year=2021
#     ))
#     keyboard_builder.button(text='Toyota Corolla Gray 2017', callback_data=CarInfo(
#         brand='Toyota', model='Corolla', color='gray', year=2017
#     ))
#     keyboard_builder.button(text='Nissan GTR White 2019', callback_data=CarInfo(
#         brand='Nissan', model='GTR', color='white', year=2019
#     ))
#     keyboard_builder.button(text='Youtube', url='https://www.youtube.com/playlist?list=PLRU2Gs7fnCuiwcEDU0AWGkSTawEQpLFPb')
#     keyboard_builder.button(text='Telegram', url='tg://user?id=814140059')
#     keyboard_builder.adjust(3)
#     return keyboard_builder.as_markup()


def start_inline_keyboard():
    keyboard_builder = InlineKeyboardBuilder()
    keyboard_builder.button(text='–¶–≤–µ—Ç—ã', callback_data='market')
    keyboard_builder.button(text='–ö–æ–Ω—Ç–∞–∫—Ç—ã', callback_data='contacts')
    keyboard_builder.adjust(1)
    return keyboard_builder.as_markup()


def contacts_inline_keyboard():
    keyboard_builder = InlineKeyboardBuilder()
    keyboard_builder.button(text="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞", callback_data='contacts_phone')
    keyboard_builder.button(text='–ù–∞—à–∞ —Ç–æ—á–∫–∞', url='https://maps.app.goo.gl/hWprhs6bS8NCAGM5A')
    keyboard_builder.button(text='–ù–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª', url='https://t.me/+Xh2vMre6bmQ3MGU6')
    keyboard_builder.adjust(1)
    return keyboard_builder.as_markup()


def market_start_keyboard():
    keyboard_builder = InlineKeyboardBuilder()
    keyboard_builder.button(text='–•–ò–¢ –°–ï–ó–û–ù–ê', callback_data='post_edit_0')
    keyboard_builder.adjust(1)
    return keyboard_builder.as_markup()


def market_product_keyboard(pageID: int):
    keyboard_builder = InlineKeyboardBuilder()
    if pageID > 0:
        keyboard_builder.button(text='<', callback_data=f'post_edit_{pageID - 1}')
    keyboard_builder.button(text=f'({pageID + 1})', callback_data='current_page')
    keyboard_builder.button(text='>', callback_data=f'post_edit_{pageID + 1}')
    keyboard_builder.button(text='–ü–æ–¥—Ä–æ–±–Ω–µ–µ', callback_data=f'post_detailed_{pageID}')
    if pageID > 0:
        keyboard_builder.adjust(3, 1)
    else:
        keyboard_builder.adjust(2, 1)
    return keyboard_builder.as_markup()


def detailed_product_keyboard(pageID: int):
    keyboard_builder = InlineKeyboardBuilder()
    keyboard_builder.button(text='–ó–∞–∫–∞–∑–∞—Ç—å —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π', callback_data=f'buy_{pageID}')
    keyboard_builder.button(text='< –í–µ—Ä–Ω—É—Ç—Å—è –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É', callback_data=f'post_create_{pageID}')
    keyboard_builder.adjust(1)
    return keyboard_builder.as_markup()


def admin_keyboard():
    keyboard_builder = InlineKeyboardBuilder()
    keyboard_builder.button(text='–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã', callback_data='admin_product_list')
    keyboard_builder.button(text='–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç', callback_data='admin_product_add')
    keyboard_builder.button(text='–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç', callback_data='admin_product_remove')
    keyboard_builder.button(text='–í—ã–π—Ç–∏ —Å –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∞', callback_data='admin_logout')
    keyboard_builder.adjust(1, 2, 1)
    return keyboard_builder.as_markup()


def product_test_keyboard():
    keyboard_builder = InlineKeyboardBuilder()
    keyboard_builder.button(text='–ó–∞–∫–∞–∑–∞—Ç—å —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π', callback_data='test_product_buy')
    keyboard_builder.adjust(1)
    return keyboard_builder.as_markup()


def channel_post_keyboard(link: str):
    keyboard_builder = InlineKeyboardBuilder()

    keyboard_builder.button(text=f"–ü–µ—Ä–µ–π—Ç–∏ –∫ –±–æ—Ç—É{random.choice(['üíê','üèµÔ∏è','üíÆ','üå∏','üåπ','üå∫','üåª','üåº','üå∑'])}", url=link)
    keyboard_builder.adjust(1)
    return keyboard_builder.as_markup()
